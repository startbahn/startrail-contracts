<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: UmlClassDiagram Pages: 1 -->
<svg width="1721pt" height="632pt"
 viewBox="0.00 0.00 1721.06 631.60" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 627.6)">
<title>UmlClassDiagram</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-627.6 1717.0609,-627.6 1717.0609,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="0,-.5 0,-142.1 898.924,-142.1 898.924,-.5 0,-.5"/>
<text text-anchor="middle" x="449.462" y="-125.5" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;Interface&gt;&gt;</text>
<text text-anchor="middle" x="449.462" y="-108.7" font-family="Times,serif" font-size="14.00" fill="#000000">IStartrailRegistry</text>
<polyline fill="none" stroke="#000000" points="0,-100.5 898.924,-100.5 "/>
<text text-anchor="middle" x="449.462" y="-83.9" font-family="Times,serif" font-size="14.00" fill="#000000"> </text>
<polyline fill="none" stroke="#000000" points="0,-75.7 898.924,-75.7 "/>
<text text-anchor="start" x="8" y="-59.1" font-family="Times,serif" font-size="14.00" fill="#000000">External:</text>
<text text-anchor="start" x="8" y="-42.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;createSRRFromBulk(isPrimaryIssuer: bool, artistAddress: address, metadataDigest: bytes32, issuerAddress: address, lockExternalTransfer: bool): uint256</text>
<text text-anchor="start" x="8" y="-25.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;approveSRRByCommitmentFromBulk(tokenId: uint256, commitment: bytes32, historyMetadataDigest: string, customHistoryId: uint256)</text>
<text text-anchor="start" x="8" y="-8.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&#160;transferFromWithProvenanceFromBulk(to: address, tokenId: uint256, historyMetadataDigest: string, customHistoryId: uint256, isIntermediary: bool)</text>
</g>
<!-- 7 -->
<g id="node2" class="node">
<title>7</title>
<polygon fill="#f2f2f2" stroke="#000000" points="381.8631,-179.1 381.8631,-623.1 1713.0609,-623.1 1713.0609,-179.1 381.8631,-179.1"/>
<text text-anchor="middle" x="1047.462" y="-606.5" font-family="Times,serif" font-size="14.00" fill="#000000">BulkIssueV3</text>
<polyline fill="none" stroke="#000000" points="381.8631,-598.3 1713.0609,-598.3 "/>
<text text-anchor="start" x="389.8631" y="-581.7" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="389.8631" y="-564.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;nameRegistryAddress: address</text>
<text text-anchor="start" x="389.8631" y="-548.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;batches: mapping(bytes32=&gt;Batch)</text>
<polyline fill="none" stroke="#000000" points="381.8631,-539.9 1713.0609,-539.9 "/>
<text text-anchor="start" x="389.8631" y="-523.3" font-family="Times,serif" font-size="14.00" fill="#000000">Private:</text>
<text text-anchor="start" x="389.8631" y="-506.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_prepareBatch(merkleRoot: bytes32)</text>
<text text-anchor="start" x="389.8631" y="-489.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_startrailRegistry(): (sr: IStartrailRegistry)</text>
<text text-anchor="start" x="389.8631" y="-472.9" font-family="Times,serif" font-size="14.00" fill="#000000">Internal:</text>
<text text-anchor="start" x="389.8631" y="-456.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;_createSRRWithProof(merkleProof: bytes32[], merkleRoot: bytes32, srrHash: bytes32, isPrimaryIssuer: bool, artistAddress: address, metadataDigest: bytes32, lockExternalTransfer: bool): (tokenId: uint256)</text>
<text text-anchor="start" x="389.8631" y="-439.3" font-family="Times,serif" font-size="14.00" fill="#000000">Public:</text>
<text text-anchor="start" x="389.8631" y="-422.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; BatchPrepared(merkleRoot: bytes32, sender: address)</text>
<text text-anchor="start" x="389.8631" y="-405.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; CreateSRRWithProof(merkleRoot: bytes32, tokenId: uint256, srrHash: bytes32)</text>
<text text-anchor="start" x="389.8631" y="-388.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;event&gt;&gt; MigrateBatch(merkleRoot: bytes32, processedLeaves: bytes32[], issuer: address, originTimestampCreated: uint256, originTimestampUpdated: uint256)</text>
<text text-anchor="start" x="389.8631" y="-372.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; isNewBatch(merkleRoot: bytes32)</text>
<text text-anchor="start" x="389.8631" y="-355.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; batchExists(merkleRoot: bytes32)</text>
<text text-anchor="start" x="389.8631" y="-338.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; srrNotAlreadyProcessed(merkleRoot: bytes32, srrHash: bytes32)</text>
<text text-anchor="start" x="389.8631" y="-321.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;&lt;&lt;modifier&gt;&gt; onlyAdministrator()</text>
<text text-anchor="start" x="389.8631" y="-304.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;initialize(_nameRegistry: address, _trustedForwarder: address)</text>
<text text-anchor="start" x="389.8631" y="-288.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;setTrustedForwarder(forwarder: address)</text>
<text text-anchor="start" x="389.8631" y="-271.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;prepareBatchFromLicensedUser(merkleRoot: bytes32)</text>
<text text-anchor="start" x="389.8631" y="-254.5" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createSRRWithProof(merkleProof: bytes32[], merkleRoot: bytes32, srrHash: bytes32, isPrimaryIssuer: bool, artistAddress: address, metadataDigest: bytes32): (tokenId: uint256)</text>
<text text-anchor="start" x="389.8631" y="-237.7" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;verifySRRHash(srrHash: bytes32, isPrimaryIssuer: bool, artistAddress: address, metadataDigest: bytes32): (hashMatches: bool)</text>
<text text-anchor="start" x="389.8631" y="-220.9" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createSRRWithProof(merkleProof: bytes32[], merkleRoot: bytes32, srrHash: bytes32, isPrimaryIssuer: bool, artistAddress: address, metadataDigest: bytes32, lockExternalTransfer: bool): (tokenId: uint256)</text>
<text text-anchor="start" x="389.8631" y="-204.1" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;createSRRWithProofMulti(merkleProofs: bytes32[][], merkleRoot: bytes32, srrHashes: bytes32[], isPrimaryIssuers: bool[], artistAddresses: address[], metadataDigests: bytes32[], lockExternalTransfers: bool[]): (tokenIds: uint256[])</text>
<text text-anchor="start" x="389.8631" y="-187.3" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;&#160;verifySRRHash(srrHash: bytes32, isPrimaryIssuer: bool, artistAddress: address, metadataDigest: bytes32, lockExternalTransfer: bool): (hashMatches: bool)</text>
</g>
<!-- 7struct0 -->
<g id="node3" class="node">
<title>7struct0</title>
<polygon fill="#f2f2f2" stroke="#000000" points="917.0761,-12.9 917.0761,-129.7 1177.8479,-129.7 1177.8479,-12.9 917.0761,-12.9"/>
<text text-anchor="middle" x="1047.462" y="-113.1" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;&lt;struct&gt;&gt;</text>
<text text-anchor="middle" x="1047.462" y="-96.3" font-family="Times,serif" font-size="14.00" fill="#000000">Batch</text>
<polyline fill="none" stroke="#000000" points="917.0761,-88.1 1177.8479,-88.1 "/>
<text text-anchor="start" x="925.0761" y="-71.5" font-family="Times,serif" font-size="14.00" fill="#000000">prepared: bool</text>
<text text-anchor="start" x="925.0761" y="-54.7" font-family="Times,serif" font-size="14.00" fill="#000000">issuer: address</text>
<text text-anchor="start" x="925.0761" y="-37.9" font-family="Times,serif" font-size="14.00" fill="#000000">processedCount: uint8</text>
<text text-anchor="start" x="925.0761" y="-21.1" font-family="Times,serif" font-size="14.00" fill="#000000">processedLeaves: mapping(bytes32=&gt;bool)</text>
</g>
<!-- 7struct0&#45;&gt;7 -->
<g id="edge1" class="edge">
<title>7struct0&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M1047.462,-129.8816C1047.462,-141.1481 1047.462,-153.569 1047.462,-166.7104"/>
<polygon fill="#000000" stroke="#000000" points="1047.4621,-166.9693 1051.462,-172.9693 1047.462,-178.9693 1043.462,-172.9692 1047.4621,-166.9693"/>
</g>
</g>
</svg>
